**RIP** (Routing Information Protocol) — один из старейших протоколов дистанционно-векторной маршрутизации внутри автономной системы. RIP прост в настройке, но малоэффективен для больших сетей из-за ограничений по размеру и медленной конвергенции.

## **Основные характеристики**

| Параметр                    | Описание                                                                 |
| --------------------------- | ------------------------------------------------------------------------ |
| **Уровень OSI**             | Прикладной (Application Layer)                                           |
| **Транспорт**               | UDP (порт 520)                                                           |
| **Тип протокола**           | Distance Vector (дистанционно-векторный)                                |
| **Назначение**              | Внутренняя маршрутизация (IGP)                                           |
| **Версии**                  | RIPv1, RIPv2, RIPng (для IPv6)                                           |
| **Максимальный хоп**        | 15 (16 = бесконечность)                                                  |

## **Версии RIP**

### **RIPv1**

- Классовая маршрутизация
- Broadcast обновления
- Нет аутентификации
- Устаревший

### **RIPv2**

- Бесклассовая маршрутизация (CIDR)
- Multicast обновления (224.0.0.9)
- Аутентификация
- Поддержка VLSM

### **RIPng**

- Для IPv6
- Multicast (FF02::9)
- Аналогичен RIPv2

## **Принцип работы RIP**

### **Distance Vector**

Каждый маршрутизатор:
1. Хранит таблицу маршрутов (сеть, следующий хоп, метрика)
2. Периодически отправляет таблицу соседям
3. Обновляет таблицу на основе полученной информации

### **Метрика**

Метрика = количество хопов до сети

**Пример:**
```
Router A → Router B → Router C → Network X
Метрика для Router A = 3 хопа
```

### **Обновления**

- **Периодические** — каждые 30 секунд
- **Триггерные** — при изменении

## **Процесс RIP**

```
Router A                          Router B
  |                                 |
  |-------- Response --------------→|
  |         (Routing Table)         |
  |                                 |
  |←------- Response ---------------|
  |         (Routing Table)         |
  |                                 |
  |     Обновление таблиц           |
  |     (каждые 30 секунд)          |
```

## **Примеры конфигурации**

### **Cisco IOS**

```
router rip
 version 2
 network 192.168.1.0
 network 10.0.0.0
 no auto-summary
```

### **Linux (FRR)**

```bash
router rip
 version 2
 network 192.168.1.0/24
 network 10.0.0.0/24
 no auto-summary
```

### **BIRD**

```
protocol rip {
    import all;
    export all;
    interface "eth0" {
        metric 1;
    };
}
```

## **Ограничения RIP**

### **Проблемы**

1. **Максимум 15 хопов** — сети больше 15 хопов недоступны
2. **Медленная конвергенция** — Count to Infinity проблема
3. **Периодические обновления** — трафик каждые 30 секунд
4. **Простая метрика** — только количество хопов

### **Count to Infinity**

Проблема медленной конвергенции при разрыве связи:

```
Router A → Router B → Router C → Network X

Если Router C отключится:
- Router B думает, что может достичь X через Router A
- Router A думает, что может достичь X через Router B
- Метрика увеличивается до бесконечности (16)
```

**Решения:**
- **Split Horizon** — не отправлять маршрут обратно
- **Poison Reverse** — отправлять с метрикой 16
- **Hold-down Timer** — задержка обновлений

## **Безопасность RIP**

### **Аутентификация (RIPv2)**

```
key chain RIP-KEYS
 key 1
  key-string password123

router rip
 version 2
 authentication mode md5
 authentication key-chain RIP-KEYS
```

## **Применение RIP**

1. **Малые сети** — простые сети до 15 хопов
2. **Обучение** — изучение маршрутизации
3. **Legacy системы** — старые системы
4. **Прототипирование** — быстрая настройка

## **Сравнение с OSPF**

| Характеристика | RIP | OSPF |
| -------------- | --- | ---- |
| **Тип**        | Distance Vector | Link-State |
| **Максимум хопов** | 15 | Неограниченно |
| **Конвергенция** | Медленная | Быстрая |
| **Сложность**  | Простая | Сложная |
| **Масштабируемость** | Низкая | Высокая |

## **Будущее RIP**

- **Устаревание** — заменяется на OSPF/EIGRP
- **Legacy поддержка** — только для старых систем
- **Обучение** — для изучения маршрутизации
- **RIPng** — для IPv6 в малых сетях
