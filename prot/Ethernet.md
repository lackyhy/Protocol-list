**Ethernet** — это семейство технологий проводной передачи данных для компьютерных сетей, основанных на стандартах IEEE 802.3. Это наиболее распространенная технология для создания локальных сетей (LAN), корпоративных сетей и часто используется в домашних сетях.

##  **Основные характеристики**

| Параметр                        | Описание                                                            |
| ------------------------------- | ------------------------------------------------------------------- |
| **Топология**                   | Звезда (современная), шина (историческая)                           |
| **Среда передачи**              | Витая пара (UTP, STP), оптоволокно, коаксиальный кабель             |
| **Скорости**                    | 10 Мбит/с, 100 Мбит/с (Fast), 1 Гбит/с (Gigabit), 10 Гбит/с, и выше |
| **Максимальная длина сегмента** | 100 м (витая пара), до 40 км (оптоволокно)                          |
| **Метод доступа**               | CSMA/CD (устаревший), полнодуплексный (современный)                 |

##  **Как работает Ethernet: Пошаговый процесс**

### **1. Физический уровень (Physical Layer)**

**Компоненты:**

- **Сетевая карта (NIC)** — преобразует данные в электрические/оптические сигналы
    
- **Кабель** — среда передачи (Cat5e, Cat6, Cat6a, Cat7, оптоволокно)
    
- **Разъемы** — RJ-45 (для витой пары), SFP (для оптоволокна)
    

### **2. Кадр Ethernet (Ethernet Frame)**

|Поле|Размер (байты)|Описание|Пример/Значение|
|---|---|---|---|
|**Preamble** (Преамбула)|7|Синхронизация устройств, биты 10101010...|`0xAA-AA-AA-AA-AA-AA-AA`|
|**SFD** (Start Frame Delimiter)|1|Начало кадра, указывает на конец преамбулы|`0xAB` (10101011)|
|**Destination MAC**|6|MAC-адрес получателя|`00:1A:2B:3C:4D:5E`|
|**Source MAC**|6|MAC-адрес отправителя|`AA:BB:CC:DD:EE:FF`|
|**Type/Length**|2|Тип протокола верхнего уровня или длина данных|`0x0800` (IPv4), `0x0806` (ARP)|
|**Data/Payload**|46-1500|Полезная нагрузка (инкапсулированный пакет)|IP пакет, ARP запрос и т.д.|
|**FCS** (Frame Check Sequence)|4|Контрольная сумма (CRC32) для проверки целостности|Рассчитывается на лету|

**Поля кадра:**

- **Preamble** (7 байт) — синхронизация
    
- **SFD** (Start Frame Delimiter, 1 байт) — начало кадра
    
- **Destination MAC** (6 байт) — MAC-адрес получателя
    
- **Source MAC** (6 байт) — MAC-адрес отправителя
    
- **Type/Length** (2 байта) — тип протокола или длина данных
    
- **Data** (46-1500 байт) — полезная нагрузка
    
- **FCS** (Frame Check Sequence, 4 байта) — контрольная сумма

### Конфигурация

```bash
# Проверка Ethernet интерфейса в Linux
$ ip link show eth0
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP mode DEFAULT group default qlen 1000
    link/ether 00:1a:2b:3c:4d:5e brd ff:ff:ff:ff:ff:ff

# Настройка IP-адреса
$ sudo ip addr add 192.168.1.100/24 dev eth0
$ sudo ip link set eth0 up

# Проверка скорости
$ ethtool eth0
Settings for eth0:
    Speed: 1000Mb/s
    Duplex: Full
```

### **Таблица стандартов**

| Стандарт        | Скорость   | Кабель           | Макс. длина | Год  |
| --------------- | ---------- | ---------------- | ----------- | ---- |
| **10BASE5**     | 10 Мбит/с  | Коаксиал         | 500 м       | 1983 |
| **10BASE2**     | 10 Мбит/с  | Коаксиал         | 185 м       | 1985 |
| **10BASE-T**    | 10 Мбит/с  | UTP Cat3         | 100 м       | 1990 |
| **100BASE-TX**  | 100 Мбит/с | UTP Cat5         | 100 м       | 1995 |
| **1000BASE-T**  | 1 Гбит/с   | UTP Cat5e        | 100 м       | 1999 |
| **10GBASE-T**   | 10 Гбит/с  | UTP Cat6a        | 100 м       | 2006 |
| **25GBASE-T**   | 25 Гбит/с  | UTP Cat8         | 30 м        | 2016 |
| **40GBASE-SR4** | 40 Гбит/с  | Многомодовое ВОК | 150 м       | 2010 |

### MAC-адреса

| Тип                 | Размер | Формат            | Пример              | Описание          |
| ------------------- | ------ | ----------------- | ------------------- | ----------------- |
| **Destination MAC** | 6 байт | XX:XX:XX:XX:XX:XX | `00:1A:2B:3C:4D:5E` | Адрес получателя  |
| **Source MAC**      | 6 байт | XX:XX:XX:XX:XX:XX | `AA:BB:CC:DD:EE:FF` | Адрес отправителя |

### Type/Length поле

| Значение (Hex) | Протокол | Описание                      |
| -------------- | -------- | ----------------------------- |
| `0x0800`       | IPv4     | Internet Protocol версия 4    |
| `0x0806`       | ARP      | Address Resolution Protocol   |
| `0x86DD`       | IPv6     | Internet Protocol версия 6    |
| `0x8100`       | 802.1Q   | VLAN tagged frame             |
| `0x8847`       | MPLS     | Multiprotocol Label Switching |
**Важно:** Если значение ≤ 1500 (0x05DC), то это длина данных, если ≥ 1536, то это тип протокола.

### Данные (Payload)

|Параметр|Значение|Описание|
|---|---|---|
|Минимальный размер|46 байт|Если данных меньше, добавляется заполнение|
|Максимальный размер|1500 байт|Стандартный MTU (Maximum Transmission Unit)|
|Jumbo frames|До 9000 байт|Специальная конфигурация для гигантских кадров|

### Таблица размеров для разных типов Ethernet

| Тип Ethernet      | Min Frame Size | Max Frame Size | Преамбула+SFD | Полезная нагрузка |
| ----------------- | -------------- | -------------- | ------------- | ----------------- |
| **Ethernet II**   | 64 байт        | 1518 байт      | 8 байт        | 46-1500 байт      |
| **802.3 с 802.2** | 64 байт        | 1518 байт      | 8 байт        | 43-1497 байт      |
| **802.3 с SNAP**  | 64 байт        | 1518 байт      | 8 байт        | 38-1492 байт      |
| **Jumbo Frames**  | 64 байт        | 9018+ байт     | 8 байт        | До 9000 байт      |

## **Диагностика и устранение неисправностей**

###### **Распространенные проблемы и решения**

| Проблема                   | Причина                                  | Решение                                   |
| -------------------------- | ---------------------------------------- | ----------------------------------------- |
| **Нет линка**              | Обрыв кабеля, выключен порт              | Проверить кабель, переподключить          |
| **Низкая скорость**        | Кабель Cat5 вместо Cat5e, плохой контакт | Заменить кабель, обжать коннектор         |
| **Высокий уровень ошибок** | ЭМ помехи, плохая скрутка                | Использовать экранированный кабель        |
| **Периодические обрывы**   | Перегрев оборудования, плохой разъем     | Проверить температуру, заменить патч-корд |
